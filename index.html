<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>陪課表（LIFF 橋接）</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
<script>
(async () => {
  try {
    await liff.init({ liffId: "YOUR_LIFF_ID" }); // 後台建立後取得
    if (!liff.isLoggedIn()) { liff.login(); return; }

    const profile = await liff.getProfile();         // 取得 LINE 名字
    const name = encodeURIComponent(profile.displayName);

    // 你的 Google 表單「預填 URL」 + 陪課者欄位的 entry ID
    const formBase = "https://docs.google.com/forms/d/e/xxxxxxxxxxxxxxxxxxxx/viewform?usp=pp_url";
    const entryHelper = "entry.1234567890"; // ← 換成你的陪課者欄位 entry ID

    // 如果你也想預填「上課人」，可以再加一個 entry.xxx
    // const student = new URLSearchParams(location.search).get("student") || "";
    // const entryStudent = "entry.2222222222";

    const target = `${formBase}&${entryHelper}=${name}`;
    location.replace(target); // 導向 Google 表單
  } catch (e) {
    document.body.innerHTML = "<p>載入失敗，請重新開啟。</p>";
    console.error(e);
  }
})();
</script>
</body>
</html>
